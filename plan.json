{"format_version":"0.1","terraform_version":"0.15.1","variables":{"dns-name":{"value":"cmcloudlab1834.info."},"external_ip":{"value":"35.177.170.10/32"},"instance-type":{"value":"t3.micro"},"masters-count":{"value":1},"profile":{"value":"default"},"region-master":{"value":"us-east-1"},"region-worker":{"value":"us-west-2"},"webserver-port":{"value":8080},"workers-count":{"value":3}},"planned_values":{"outputs":{"FrontEnd-LB-DNS-NAME":{"sensitive":false},"FrontendBalancer-URL":{"sensitive":false},"Jenkins-Master-Node-Public-IP":{"sensitive":false},"Jenkins-Worker-Node-Public-IP":{"sensitive":false}},"root_module":{"resources":[{"address":"aws_acm_certificate.frontend-lb-https","mode":"managed","type":"aws_acm_certificate","name":"frontend-lb-https","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"certificate_authority_arn":null,"certificate_body":null,"certificate_chain":null,"domain_name":"frontend.cmcloudlab1834.info","domain_validation_options":[{"domain_name":"frontend.cmcloudlab1834.info"}],"options":[],"private_key":null,"tags":{"Name":"FrontEnd-ACM"},"tags_all":{"Name":"FrontEnd-ACM"},"validation_method":"DNS"}},{"address":"aws_acm_certificate_validation.cert[\"frontend.cmcloudlab1834.info\"]","mode":"managed","type":"aws_acm_certificate_validation","name":"cert","index":"frontend.cmcloudlab1834.info","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"timeouts":null}},{"address":"aws_alb.application-lb-master","mode":"managed","type":"aws_alb","name":"application-lb-master","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_logs":[],"customer_owned_ipv4_pool":null,"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":null,"enable_deletion_protection":false,"enable_http2":true,"idle_timeout":60,"internal":false,"load_balancer_type":"application","name":"front-lb","name_prefix":null,"tags":{"Name":"Front-End-LB"},"tags_all":{"Name":"Front-End-LB"},"timeouts":null}},{"address":"aws_alb_listener.front-lb-master443-listener","mode":"managed","type":"aws_alb_listener","name":"front-lb-master443-listener","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"alpn_policy":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"port":443,"protocol":"HTTPS","ssl_policy":"ELBSecurityPolicy-2016-08","timeouts":null}},{"address":"aws_alb_listener.front-lb-master80-listener","mode":"managed","type":"aws_alb_listener","name":"front-lb-master80-listener","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"alpn_policy":null,"certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[{"host":"#{host}","path":"/#{path}","port":"443","protocol":"HTTPS","query":"#{query}","status_code":"HTTP_301"}],"target_group_arn":null,"type":"redirect"}],"port":80,"protocol":"HTTP","timeouts":null}},{"address":"aws_alb_target_group_attachment.frontend-master-attach","mode":"managed","type":"aws_alb_target_group_attachment","name":"frontend-master-attach","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"availability_zone":null,"port":8080}},{"address":"aws_instance.jenkins-master-instance","mode":"managed","type":"aws_instance","name":"jenkins-master-instance","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"ami":"ami-0d5eff06f840b45e9","associate_public_ip_address":true,"credit_specification":[],"disable_api_termination":null,"ebs_optimized":null,"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_type":"t3.micro","key_name":"cloud_key","monitoring":null,"source_dest_check":true,"tags":{"Name":"jenkins_master_tf"},"tags_all":{"Name":"jenkins_master_tf"},"timeouts":null,"user_data":null,"user_data_base64":null,"volume_tags":null}},{"address":"aws_instance.jenkins-worker-instance[0]","mode":"managed","type":"aws_instance","name":"jenkins-worker-instance","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"ami":"ami-0cf6f5c8a62fa5da6","associate_public_ip_address":true,"credit_specification":[],"disable_api_termination":null,"ebs_optimized":null,"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_type":"t3.micro","key_name":"cloud_key","monitoring":null,"source_dest_check":true,"tags":{"Name":"jenkins_worker_tf_1"},"tags_all":{"Name":"jenkins_worker_tf_1"},"timeouts":null,"user_data":null,"user_data_base64":null,"volume_tags":null}},{"address":"aws_instance.jenkins-worker-instance[1]","mode":"managed","type":"aws_instance","name":"jenkins-worker-instance","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"ami":"ami-0cf6f5c8a62fa5da6","associate_public_ip_address":true,"credit_specification":[],"disable_api_termination":null,"ebs_optimized":null,"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_type":"t3.micro","key_name":"cloud_key","monitoring":null,"source_dest_check":true,"tags":{"Name":"jenkins_worker_tf_2"},"tags_all":{"Name":"jenkins_worker_tf_2"},"timeouts":null,"user_data":null,"user_data_base64":null,"volume_tags":null}},{"address":"aws_instance.jenkins-worker-instance[2]","mode":"managed","type":"aws_instance","name":"jenkins-worker-instance","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"ami":"ami-0cf6f5c8a62fa5da6","associate_public_ip_address":true,"credit_specification":[],"disable_api_termination":null,"ebs_optimized":null,"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_type":"t3.micro","key_name":"cloud_key","monitoring":null,"source_dest_check":true,"tags":{"Name":"jenkins_worker_tf_3"},"tags_all":{"Name":"jenkins_worker_tf_3"},"timeouts":null,"user_data":null,"user_data_base64":null,"volume_tags":null}},{"address":"aws_internet_gateway.igw_master_vpc","mode":"managed","type":"aws_internet_gateway","name":"igw_master_vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":null}},{"address":"aws_internet_gateway.igw_worker_vpc","mode":"managed","type":"aws_internet_gateway","name":"igw_worker_vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":null}},{"address":"aws_key_pair.master-instance-key","mode":"managed","type":"aws_key_pair","name":"master-instance-key","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"key_name":"cloud_key","key_name_prefix":null,"public_key":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC3A+9ffVZ61ggwjlvWY15LTEuyo/CP/IdzXxd2xW5yTnlsCDENksbQ2x31OFLGggp7fbHb7en2UXvx2/HOqCqskONF7pRbblYFLMaMlUQy19nZQLIQvhMN1OBdJrZGlSJCcu71AeP7HQJ1KKsITsme91zTX9p7MUyEU0XNaKKGFzTwV9nkXpQb674MYnQCVJ4ODNa/f8IFuzCYHEqo2SZ/YXKzBjDJZw1y7+C6A6olUW00AeBUpPw7KwKc988Imbfv6ihp422mE8hTMo8/XUjEvvREzV5W1EVV86HCYVZ2IhgPPg1mHa+p+rRmXmBsjwWi234R1Kdz3EDpzU2QGf8qjdnAvFRgVCft8izCnBwYPXZRKZwV0PW+N/qFqReSl6HPkRqLH+OaGgRRn6oYj3VhBEh2TLcXNs2Pmd+WrgR7gW4CLgBUWh5tX1uBZteJ5Uf6pGEh611hs61veNyJxevF+2qxC14thQL53ELFO4B/lYiDalFisTcBZyuXscJ5H/U= cloud_user@7c0c27b5281c.mylabserver.com","tags":null}},{"address":"aws_key_pair.worker-instance-key","mode":"managed","type":"aws_key_pair","name":"worker-instance-key","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"key_name":"cloud_key","key_name_prefix":null,"public_key":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC3A+9ffVZ61ggwjlvWY15LTEuyo/CP/IdzXxd2xW5yTnlsCDENksbQ2x31OFLGggp7fbHb7en2UXvx2/HOqCqskONF7pRbblYFLMaMlUQy19nZQLIQvhMN1OBdJrZGlSJCcu71AeP7HQJ1KKsITsme91zTX9p7MUyEU0XNaKKGFzTwV9nkXpQb674MYnQCVJ4ODNa/f8IFuzCYHEqo2SZ/YXKzBjDJZw1y7+C6A6olUW00AeBUpPw7KwKc988Imbfv6ihp422mE8hTMo8/XUjEvvREzV5W1EVV86HCYVZ2IhgPPg1mHa+p+rRmXmBsjwWi234R1Kdz3EDpzU2QGf8qjdnAvFRgVCft8izCnBwYPXZRKZwV0PW+N/qFqReSl6HPkRqLH+OaGgRRn6oYj3VhBEh2TLcXNs2Pmd+WrgR7gW4CLgBUWh5tX1uBZteJ5Uf6pGEh611hs61veNyJxevF+2qxC14thQL53ELFO4B/lYiDalFisTcBZyuXscJ5H/U= cloud_user@7c0c27b5281c.mylabserver.com","tags":null}},{"address":"aws_lb_target_group.front-lb-master-tg","mode":"managed","type":"aws_lb_target_group","name":"front-lb-master-tg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"deregistration_delay":300,"health_check":[{"enabled":true,"healthy_threshold":3,"interval":10,"matcher":"200-299","path":"/","port":"8080","protocol":"HTTP","unhealthy_threshold":3}],"lambda_multi_value_headers_enabled":false,"name":"front-lb-tg","name_prefix":null,"port":8080,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"tags":{"Name":"FrontEnd-Target-Group"},"tags_all":{"Name":"FrontEnd-Target-Group"},"target_type":"instance"}},{"address":"aws_main_route_table_association.set-master-default-rt-assoc","mode":"managed","type":"aws_main_route_table_association","name":"set-master-default-rt-assoc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0},{"address":"aws_main_route_table_association.set-worker-default-rt-assoc","mode":"managed","type":"aws_main_route_table_association","name":"set-worker-default-rt-assoc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0},{"address":"aws_route53_record.cert_validation[\"frontend.cmcloudlab1834.info\"]","mode":"managed","type":"aws_route53_record","name":"cert_validation","index":"frontend.cmcloudlab1834.info","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"alias":[],"failover_routing_policy":[],"geolocation_routing_policy":[],"health_check_id":null,"latency_routing_policy":[],"multivalue_answer_routing_policy":null,"set_identifier":null,"ttl":60,"weighted_routing_policy":[],"zone_id":"Z03049482T2BW5M7I0WSO"}},{"address":"aws_route53_record.frontend-lb","mode":"managed","type":"aws_route53_record","name":"frontend-lb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"alias":[{"evaluate_target_health":true}],"failover_routing_policy":[],"geolocation_routing_policy":[],"health_check_id":null,"latency_routing_policy":[],"multivalue_answer_routing_policy":null,"name":"frontend.cmcloudlab1834.info","records":null,"set_identifier":null,"ttl":null,"type":"A","weighted_routing_policy":[],"zone_id":"Z03049482T2BW5M7I0WSO"}},{"address":"aws_route_table.internet_route_vpc-master","mode":"managed","type":"aws_route_table","name":"internet_route_vpc-master","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","destination_prefix_list_id":"","egress_only_gateway_id":"","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},{"carrier_gateway_id":"","cidr_block":"192.168.1.0/24","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":""}],"tags":{"Name":"Master-Region-RT"},"tags_all":{"Name":"Master-Region-RT"}}},{"address":"aws_route_table.internet_route_vpc-worker","mode":"managed","type":"aws_route_table","name":"internet_route_vpc-worker","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","destination_prefix_list_id":"","egress_only_gateway_id":"","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},{"carrier_gateway_id":"","cidr_block":"10.0.1.0/24","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":""}],"tags":{"Name":"Worker-Region-RT"},"tags_all":{"Name":"Worker-Region-RT"}}},{"address":"aws_security_group.alb-sg-master","mode":"managed","type":"aws_security_group","name":"alb-sg-master","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Allow TCP/443 and TCP/80 traffic","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":["::/0"],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Allow 443 from Everywhere","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":443},{"cidr_blocks":["0.0.0.0/0"],"description":"Allow 80 from Everywhere","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80}],"name":"alb-master-sg","revoke_rules_on_delete":false,"tags":{"Name":"alb-master"},"tags_all":{"Name":"alb-master"},"timeouts":null}},{"address":"aws_security_group.instance-sg-master","mode":"managed","type":"aws_security_group","name":"instance-sg-master","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Allow TCP/8080 and TCP/22","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["192.168.1.0/24"],"description":"Allow traffic from us-west-2","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0},{"cidr_blocks":["35.177.170.10/32"],"description":"Allow 22 from IP","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22},{"cidr_blocks":[],"description":"Allow 8080 from Application Load Balancer","from_port":8080,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","self":false,"to_port":8080}],"name":"instance-master-sg","revoke_rules_on_delete":false,"tags":{"Name":"instance-master-securitygroup"},"tags_all":{"Name":"instance-master-securitygroup"},"timeouts":null}},{"address":"aws_security_group.instance-sg-worker","mode":"managed","type":"aws_security_group","name":"instance-sg-worker","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Allow TCP/8080 and TCP/22","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["10.0.1.0/24"],"description":"Allow traffic from us-east-1","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0},{"cidr_blocks":["35.177.170.10/32"],"description":"Allow 22 from IP","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22}],"name":"instance-worker-sg","revoke_rules_on_delete":false,"tags":{"Name":"instance-worker-securitygroup"},"tags_all":{"Name":"instance-worker-securitygroup"},"timeouts":null}},{"address":"aws_subnet.subnet-1-master","mode":"managed","type":"aws_subnet","name":"subnet-1-master","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":null,"ipv6_cidr_block":null,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"Master-Subnet-1"},"tags_all":{"Name":"Master-Subnet-1"},"timeouts":null}},{"address":"aws_subnet.subnet-1-worker","mode":"managed","type":"aws_subnet","name":"subnet-1-worker","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-west-2a","cidr_block":"192.168.1.0/24","customer_owned_ipv4_pool":null,"ipv6_cidr_block":null,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"Worker-Subnet-1"},"tags_all":{"Name":"Worker-Subnet-1"},"timeouts":null}},{"address":"aws_subnet.subnet-2-master","mode":"managed","type":"aws_subnet","name":"subnet-2-master","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.0.2.0/24","customer_owned_ipv4_pool":null,"ipv6_cidr_block":null,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"Master-Subnet-2"},"tags_all":{"Name":"Master-Subnet-2"},"timeouts":null}},{"address":"aws_vpc.vpc_master","mode":"managed","type":"aws_vpc","name":"vpc_master","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","tags":{"Name":"master-vpc-jenkins"},"tags_all":{"Name":"master-vpc-jenkins"}}},{"address":"aws_vpc.vpc_worker","mode":"managed","type":"aws_vpc","name":"vpc_worker","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":false,"cidr_block":"192.168.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","tags":{"Name":"worker-vpc-jenkins"},"tags_all":{"Name":"worker-vpc-jenkins"}}},{"address":"aws_vpc_peering_connection.useast1-uswest2","mode":"managed","type":"aws_vpc_peering_connection","name":"useast1-uswest2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"auto_accept":null,"peer_region":"us-west-2","tags":null,"timeouts":null}},{"address":"aws_vpc_peering_connection_accepter.accept-peering-vpc_master","mode":"managed","type":"aws_vpc_peering_connection_accepter","name":"accept-peering-vpc_master","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"auto_accept":true,"tags":null}}]}},"resource_changes":[{"address":"aws_acm_certificate.frontend-lb-https","mode":"managed","type":"aws_acm_certificate","name":"frontend-lb-https","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"certificate_authority_arn":null,"certificate_body":null,"certificate_chain":null,"domain_name":"frontend.cmcloudlab1834.info","domain_validation_options":[{"domain_name":"frontend.cmcloudlab1834.info"}],"options":[],"private_key":null,"tags":{"Name":"FrontEnd-ACM"},"tags_all":{"Name":"FrontEnd-ACM"},"validation_method":"DNS"},"after_unknown":{"arn":true,"domain_validation_options":[{"resource_record_name":true,"resource_record_type":true,"resource_record_value":true}],"id":true,"options":[],"status":true,"subject_alternative_names":true,"tags":{},"tags_all":{},"validation_emails":true},"before_sensitive":false,"after_sensitive":{"domain_validation_options":[{}],"options":[],"subject_alternative_names":[],"tags":{},"tags_all":{},"validation_emails":[]}}},{"address":"aws_acm_certificate_validation.cert[\"frontend.cmcloudlab1834.info\"]","mode":"managed","type":"aws_acm_certificate_validation","name":"cert","index":"frontend.cmcloudlab1834.info","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"timeouts":null},"after_unknown":{"certificate_arn":true,"id":true,"validation_record_fqdns":true},"before_sensitive":false,"after_sensitive":{"validation_record_fqdns":[]}}},{"address":"aws_alb.application-lb-master","mode":"managed","type":"aws_alb","name":"application-lb-master","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"access_logs":[],"customer_owned_ipv4_pool":null,"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":null,"enable_deletion_protection":false,"enable_http2":true,"idle_timeout":60,"internal":false,"load_balancer_type":"application","name":"front-lb","name_prefix":null,"tags":{"Name":"Front-End-LB"},"tags_all":{"Name":"Front-End-LB"},"timeouts":null},"after_unknown":{"access_logs":[],"arn":true,"arn_suffix":true,"dns_name":true,"id":true,"ip_address_type":true,"security_groups":true,"subnet_mapping":true,"subnets":true,"tags":{},"tags_all":{},"vpc_id":true,"zone_id":true},"before_sensitive":false,"after_sensitive":{"access_logs":[],"security_groups":[],"subnet_mapping":[],"subnets":[],"tags":{},"tags_all":{}}}},{"address":"aws_alb_listener.front-lb-master443-listener","mode":"managed","type":"aws_alb_listener","name":"front-lb-master443-listener","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"alpn_policy":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"port":443,"protocol":"HTTPS","ssl_policy":"ELBSecurityPolicy-2016-08","timeouts":null},"after_unknown":{"arn":true,"certificate_arn":true,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":true,"redirect":[],"target_group_arn":true}],"id":true,"load_balancer_arn":true},"before_sensitive":false,"after_sensitive":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[]}]}}},{"address":"aws_alb_listener.front-lb-master80-listener","mode":"managed","type":"aws_alb_listener","name":"front-lb-master80-listener","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"alpn_policy":null,"certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[{"host":"#{host}","path":"/#{path}","port":"443","protocol":"HTTPS","query":"#{query}","status_code":"HTTP_301"}],"target_group_arn":null,"type":"redirect"}],"port":80,"protocol":"HTTP","timeouts":null},"after_unknown":{"arn":true,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":true,"redirect":[{}]}],"id":true,"load_balancer_arn":true,"ssl_policy":true},"before_sensitive":false,"after_sensitive":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[{}]}]}}},{"address":"aws_alb_target_group_attachment.frontend-master-attach","mode":"managed","type":"aws_alb_target_group_attachment","name":"frontend-master-attach","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"availability_zone":null,"port":8080},"after_unknown":{"id":true,"target_group_arn":true,"target_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_instance.jenkins-master-instance","mode":"managed","type":"aws_instance","name":"jenkins-master-instance","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"ami":"ami-0d5eff06f840b45e9","associate_public_ip_address":true,"credit_specification":[],"disable_api_termination":null,"ebs_optimized":null,"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_type":"t3.micro","key_name":"cloud_key","monitoring":null,"source_dest_check":true,"tags":{"Name":"jenkins_master_tf"},"tags_all":{"Name":"jenkins_master_tf"},"timeouts":null,"user_data":null,"user_data_base64":null,"volume_tags":null},"after_unknown":{"arn":true,"availability_zone":true,"cpu_core_count":true,"cpu_threads_per_core":true,"credit_specification":[],"ebs_block_device":true,"enclave_options":true,"ephemeral_block_device":true,"host_id":true,"id":true,"instance_initiated_shutdown_behavior":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"metadata_options":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"primary_network_interface_id":true,"private_dns":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":true,"secondary_private_ips":true,"security_groups":true,"subnet_id":true,"tags":{},"tags_all":{},"tenancy":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"ami":true,"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"ipv6_addresses":[],"metadata_options":[],"network_interface":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}},{"address":"aws_instance.jenkins-worker-instance[0]","mode":"managed","type":"aws_instance","name":"jenkins-worker-instance","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"ami":"ami-0cf6f5c8a62fa5da6","associate_public_ip_address":true,"credit_specification":[],"disable_api_termination":null,"ebs_optimized":null,"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_type":"t3.micro","key_name":"cloud_key","monitoring":null,"source_dest_check":true,"tags":{"Name":"jenkins_worker_tf_1"},"tags_all":{"Name":"jenkins_worker_tf_1"},"timeouts":null,"user_data":null,"user_data_base64":null,"volume_tags":null},"after_unknown":{"arn":true,"availability_zone":true,"cpu_core_count":true,"cpu_threads_per_core":true,"credit_specification":[],"ebs_block_device":true,"enclave_options":true,"ephemeral_block_device":true,"host_id":true,"id":true,"instance_initiated_shutdown_behavior":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"metadata_options":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"primary_network_interface_id":true,"private_dns":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":true,"secondary_private_ips":true,"security_groups":true,"subnet_id":true,"tags":{},"tags_all":{},"tenancy":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"ami":true,"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"ipv6_addresses":[],"metadata_options":[],"network_interface":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}},{"address":"aws_instance.jenkins-worker-instance[1]","mode":"managed","type":"aws_instance","name":"jenkins-worker-instance","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"ami":"ami-0cf6f5c8a62fa5da6","associate_public_ip_address":true,"credit_specification":[],"disable_api_termination":null,"ebs_optimized":null,"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_type":"t3.micro","key_name":"cloud_key","monitoring":null,"source_dest_check":true,"tags":{"Name":"jenkins_worker_tf_2"},"tags_all":{"Name":"jenkins_worker_tf_2"},"timeouts":null,"user_data":null,"user_data_base64":null,"volume_tags":null},"after_unknown":{"arn":true,"availability_zone":true,"cpu_core_count":true,"cpu_threads_per_core":true,"credit_specification":[],"ebs_block_device":true,"enclave_options":true,"ephemeral_block_device":true,"host_id":true,"id":true,"instance_initiated_shutdown_behavior":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"metadata_options":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"primary_network_interface_id":true,"private_dns":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":true,"secondary_private_ips":true,"security_groups":true,"subnet_id":true,"tags":{},"tags_all":{},"tenancy":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"ami":true,"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"ipv6_addresses":[],"metadata_options":[],"network_interface":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}},{"address":"aws_instance.jenkins-worker-instance[2]","mode":"managed","type":"aws_instance","name":"jenkins-worker-instance","index":2,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"ami":"ami-0cf6f5c8a62fa5da6","associate_public_ip_address":true,"credit_specification":[],"disable_api_termination":null,"ebs_optimized":null,"get_password_data":false,"hibernation":null,"iam_instance_profile":null,"instance_type":"t3.micro","key_name":"cloud_key","monitoring":null,"source_dest_check":true,"tags":{"Name":"jenkins_worker_tf_3"},"tags_all":{"Name":"jenkins_worker_tf_3"},"timeouts":null,"user_data":null,"user_data_base64":null,"volume_tags":null},"after_unknown":{"arn":true,"availability_zone":true,"cpu_core_count":true,"cpu_threads_per_core":true,"credit_specification":[],"ebs_block_device":true,"enclave_options":true,"ephemeral_block_device":true,"host_id":true,"id":true,"instance_initiated_shutdown_behavior":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"metadata_options":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"primary_network_interface_id":true,"private_dns":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":true,"secondary_private_ips":true,"security_groups":true,"subnet_id":true,"tags":{},"tags_all":{},"tenancy":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"ami":true,"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"ipv6_addresses":[],"metadata_options":[],"network_interface":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}},{"address":"aws_internet_gateway.igw_master_vpc","mode":"managed","type":"aws_internet_gateway","name":"igw_master_vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"tags_all":true,"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_internet_gateway.igw_worker_vpc","mode":"managed","type":"aws_internet_gateway","name":"igw_worker_vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"tags_all":true,"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_key_pair.master-instance-key","mode":"managed","type":"aws_key_pair","name":"master-instance-key","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"key_name":"cloud_key","key_name_prefix":null,"public_key":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC3A+9ffVZ61ggwjlvWY15LTEuyo/CP/IdzXxd2xW5yTnlsCDENksbQ2x31OFLGggp7fbHb7en2UXvx2/HOqCqskONF7pRbblYFLMaMlUQy19nZQLIQvhMN1OBdJrZGlSJCcu71AeP7HQJ1KKsITsme91zTX9p7MUyEU0XNaKKGFzTwV9nkXpQb674MYnQCVJ4ODNa/f8IFuzCYHEqo2SZ/YXKzBjDJZw1y7+C6A6olUW00AeBUpPw7KwKc988Imbfv6ihp422mE8hTMo8/XUjEvvREzV5W1EVV86HCYVZ2IhgPPg1mHa+p+rRmXmBsjwWi234R1Kdz3EDpzU2QGf8qjdnAvFRgVCft8izCnBwYPXZRKZwV0PW+N/qFqReSl6HPkRqLH+OaGgRRn6oYj3VhBEh2TLcXNs2Pmd+WrgR7gW4CLgBUWh5tX1uBZteJ5Uf6pGEh611hs61veNyJxevF+2qxC14thQL53ELFO4B/lYiDalFisTcBZyuXscJ5H/U= cloud_user@7c0c27b5281c.mylabserver.com","tags":null},"after_unknown":{"arn":true,"fingerprint":true,"id":true,"key_pair_id":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_key_pair.worker-instance-key","mode":"managed","type":"aws_key_pair","name":"worker-instance-key","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"key_name":"cloud_key","key_name_prefix":null,"public_key":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC3A+9ffVZ61ggwjlvWY15LTEuyo/CP/IdzXxd2xW5yTnlsCDENksbQ2x31OFLGggp7fbHb7en2UXvx2/HOqCqskONF7pRbblYFLMaMlUQy19nZQLIQvhMN1OBdJrZGlSJCcu71AeP7HQJ1KKsITsme91zTX9p7MUyEU0XNaKKGFzTwV9nkXpQb674MYnQCVJ4ODNa/f8IFuzCYHEqo2SZ/YXKzBjDJZw1y7+C6A6olUW00AeBUpPw7KwKc988Imbfv6ihp422mE8hTMo8/XUjEvvREzV5W1EVV86HCYVZ2IhgPPg1mHa+p+rRmXmBsjwWi234R1Kdz3EDpzU2QGf8qjdnAvFRgVCft8izCnBwYPXZRKZwV0PW+N/qFqReSl6HPkRqLH+OaGgRRn6oYj3VhBEh2TLcXNs2Pmd+WrgR7gW4CLgBUWh5tX1uBZteJ5Uf6pGEh611hs61veNyJxevF+2qxC14thQL53ELFO4B/lYiDalFisTcBZyuXscJ5H/U= cloud_user@7c0c27b5281c.mylabserver.com","tags":null},"after_unknown":{"arn":true,"fingerprint":true,"id":true,"key_pair_id":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_lb_target_group.front-lb-master-tg","mode":"managed","type":"aws_lb_target_group","name":"front-lb-master-tg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"deregistration_delay":300,"health_check":[{"enabled":true,"healthy_threshold":3,"interval":10,"matcher":"200-299","path":"/","port":"8080","protocol":"HTTP","unhealthy_threshold":3}],"lambda_multi_value_headers_enabled":false,"name":"front-lb-tg","name_prefix":null,"port":8080,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"tags":{"Name":"FrontEnd-Target-Group"},"tags_all":{"Name":"FrontEnd-Target-Group"},"target_type":"instance"},"after_unknown":{"arn":true,"arn_suffix":true,"health_check":[{"timeout":true}],"id":true,"load_balancing_algorithm_type":true,"preserve_client_ip":true,"protocol_version":true,"stickiness":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"health_check":[{}],"stickiness":[],"tags":{},"tags_all":{}}}},{"address":"aws_main_route_table_association.set-master-default-rt-assoc","mode":"managed","type":"aws_main_route_table_association","name":"set-master-default-rt-assoc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{},"after_unknown":{"id":true,"original_route_table_id":true,"route_table_id":true,"vpc_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_main_route_table_association.set-worker-default-rt-assoc","mode":"managed","type":"aws_main_route_table_association","name":"set-worker-default-rt-assoc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{},"after_unknown":{"id":true,"original_route_table_id":true,"route_table_id":true,"vpc_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_route53_record.cert_validation[\"frontend.cmcloudlab1834.info\"]","mode":"managed","type":"aws_route53_record","name":"cert_validation","index":"frontend.cmcloudlab1834.info","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"alias":[],"failover_routing_policy":[],"geolocation_routing_policy":[],"health_check_id":null,"latency_routing_policy":[],"multivalue_answer_routing_policy":null,"set_identifier":null,"ttl":60,"weighted_routing_policy":[],"zone_id":"Z03049482T2BW5M7I0WSO"},"after_unknown":{"alias":[],"allow_overwrite":true,"failover_routing_policy":[],"fqdn":true,"geolocation_routing_policy":[],"id":true,"latency_routing_policy":[],"name":true,"records":true,"type":true,"weighted_routing_policy":[]},"before_sensitive":false,"after_sensitive":{"alias":[],"failover_routing_policy":[],"geolocation_routing_policy":[],"latency_routing_policy":[],"records":[],"weighted_routing_policy":[]}}},{"address":"aws_route53_record.frontend-lb","mode":"managed","type":"aws_route53_record","name":"frontend-lb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"alias":[{"evaluate_target_health":true}],"failover_routing_policy":[],"geolocation_routing_policy":[],"health_check_id":null,"latency_routing_policy":[],"multivalue_answer_routing_policy":null,"name":"frontend.cmcloudlab1834.info","records":null,"set_identifier":null,"ttl":null,"type":"A","weighted_routing_policy":[],"zone_id":"Z03049482T2BW5M7I0WSO"},"after_unknown":{"alias":[{"name":true,"zone_id":true}],"allow_overwrite":true,"failover_routing_policy":[],"fqdn":true,"geolocation_routing_policy":[],"id":true,"latency_routing_policy":[],"weighted_routing_policy":[]},"before_sensitive":false,"after_sensitive":{"alias":[{}],"failover_routing_policy":[],"geolocation_routing_policy":[],"latency_routing_policy":[],"weighted_routing_policy":[]}}},{"address":"aws_route_table.internet_route_vpc-master","mode":"managed","type":"aws_route_table","name":"internet_route_vpc-master","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","destination_prefix_list_id":"","egress_only_gateway_id":"","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},{"carrier_gateway_id":"","cidr_block":"192.168.1.0/24","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":""}],"tags":{"Name":"Master-Region-RT"},"tags_all":{"Name":"Master-Region-RT"}},"after_unknown":{"arn":true,"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"gateway_id":true},{"vpc_peering_connection_id":true}],"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"propagating_vgws":[],"route":[{},{}],"tags":{},"tags_all":{}}}},{"address":"aws_route_table.internet_route_vpc-worker","mode":"managed","type":"aws_route_table","name":"internet_route_vpc-worker","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","destination_prefix_list_id":"","egress_only_gateway_id":"","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},{"carrier_gateway_id":"","cidr_block":"10.0.1.0/24","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":""}],"tags":{"Name":"Worker-Region-RT"},"tags_all":{"Name":"Worker-Region-RT"}},"after_unknown":{"arn":true,"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"gateway_id":true},{"vpc_peering_connection_id":true}],"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"propagating_vgws":[],"route":[{},{}],"tags":{},"tags_all":{}}}},{"address":"aws_security_group.alb-sg-master","mode":"managed","type":"aws_security_group","name":"alb-sg-master","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Allow TCP/443 and TCP/80 traffic","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":["::/0"],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Allow 443 from Everywhere","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":443},{"cidr_blocks":["0.0.0.0/0"],"description":"Allow 80 from Everywhere","from_port":80,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":80}],"name":"alb-master-sg","revoke_rules_on_delete":false,"tags":{"Name":"alb-master"},"tags_all":{"Name":"alb-master"},"timeouts":null},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[false],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[false],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}}}},{"address":"aws_security_group.instance-sg-master","mode":"managed","type":"aws_security_group","name":"instance-sg-master","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Allow TCP/8080 and TCP/22","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["192.168.1.0/24"],"description":"Allow traffic from us-west-2","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0},{"cidr_blocks":["35.177.170.10/32"],"description":"Allow 22 from IP","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22},{"cidr_blocks":[],"description":"Allow 8080 from Application Load Balancer","from_port":8080,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","self":false,"to_port":8080}],"name":"instance-master-sg","revoke_rules_on_delete":false,"tags":{"Name":"instance-master-securitygroup"},"tags_all":{"Name":"instance-master-securitygroup"},"timeouts":null},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":true}],"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}}}},{"address":"aws_security_group.instance-sg-worker","mode":"managed","type":"aws_security_group","name":"instance-sg-worker","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Allow TCP/8080 and TCP/22","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"ingress":[{"cidr_blocks":["10.0.1.0/24"],"description":"Allow traffic from us-east-1","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0},{"cidr_blocks":["35.177.170.10/32"],"description":"Allow 22 from IP","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22}],"name":"instance-worker-sg","revoke_rules_on_delete":false,"tags":{"Name":"instance-worker-securitygroup"},"tags_all":{"Name":"instance-worker-securitygroup"},"timeouts":null},"after_unknown":{"arn":true,"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"id":true,"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}}}},{"address":"aws_subnet.subnet-1-master","mode":"managed","type":"aws_subnet","name":"subnet-1-master","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":null,"ipv6_cidr_block":null,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"Master-Subnet-1"},"tags_all":{"Name":"Master-Subnet-1"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_subnet.subnet-1-worker","mode":"managed","type":"aws_subnet","name":"subnet-1-worker","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-west-2a","cidr_block":"192.168.1.0/24","customer_owned_ipv4_pool":null,"ipv6_cidr_block":null,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"Worker-Subnet-1"},"tags_all":{"Name":"Worker-Subnet-1"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_subnet.subnet-2-master","mode":"managed","type":"aws_subnet","name":"subnet-2-master","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","cidr_block":"10.0.2.0/24","customer_owned_ipv4_pool":null,"ipv6_cidr_block":null,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Name":"Master-Subnet-2"},"tags_all":{"Name":"Master-Subnet-2"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_vpc.vpc_master","mode":"managed","type":"aws_vpc","name":"vpc_master","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","tags":{"Name":"master-vpc-jenkins"},"tags_all":{"Name":"master-vpc-jenkins"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_classiclink":true,"enable_classiclink_dns_support":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"main_route_table_id":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_vpc.vpc_worker","mode":"managed","type":"aws_vpc","name":"vpc_worker","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":false,"cidr_block":"192.168.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","tags":{"Name":"worker-vpc-jenkins"},"tags_all":{"Name":"worker-vpc-jenkins"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_classiclink":true,"enable_classiclink_dns_support":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"main_route_table_id":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_vpc_peering_connection.useast1-uswest2","mode":"managed","type":"aws_vpc_peering_connection","name":"useast1-uswest2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"auto_accept":null,"peer_region":"us-west-2","tags":null,"timeouts":null},"after_unknown":{"accept_status":true,"accepter":true,"id":true,"peer_owner_id":true,"peer_vpc_id":true,"requester":true,"tags_all":true,"vpc_id":true},"before_sensitive":false,"after_sensitive":{"accepter":[],"requester":[],"tags_all":{}}}},{"address":"aws_vpc_peering_connection_accepter.accept-peering-vpc_master","mode":"managed","type":"aws_vpc_peering_connection_accepter","name":"accept-peering-vpc_master","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"auto_accept":true,"tags":null},"after_unknown":{"accept_status":true,"accepter":true,"id":true,"peer_owner_id":true,"peer_region":true,"peer_vpc_id":true,"requester":true,"tags_all":true,"vpc_id":true,"vpc_peering_connection_id":true},"before_sensitive":false,"after_sensitive":{"accepter":[],"requester":[],"tags_all":{}}}}],"output_changes":{"FrontEnd-LB-DNS-NAME":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"FrontendBalancer-URL":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"Jenkins-Master-Node-Public-IP":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"Jenkins-Worker-Node-Public-IP":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"0.1","terraform_version":"0.15.1","values":{"root_module":{"resources":[{"address":"data.aws_availability_zones.azs_master","mode":"data","type":"aws_availability_zones","name":"azs_master","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"all_availability_zones":null,"exclude_names":null,"exclude_zone_ids":null,"filter":null,"group_names":["us-east-1"],"id":"us-east-1","names":["us-east-1a","us-east-1b","us-east-1c","us-east-1d","us-east-1e","us-east-1f"],"state":"available","zone_ids":["use1-az4","use1-az6","use1-az1","use1-az2","use1-az3","use1-az5"]}},{"address":"data.aws_availability_zones.azs_worker","mode":"data","type":"aws_availability_zones","name":"azs_worker","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"all_availability_zones":null,"exclude_names":null,"exclude_zone_ids":null,"filter":null,"group_names":["us-west-2"],"id":"us-west-2","names":["us-west-2a","us-west-2b","us-west-2c","us-west-2d"],"state":"available","zone_ids":["usw2-az2","usw2-az1","usw2-az3","usw2-az4"]}},{"address":"data.aws_route53_zone.dns","mode":"data","type":"aws_route53_zone","name":"dns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"caller_reference":"cmcloudlab1834.info2020-05-08 15:58:25.626881","comment":"","id":"Z03049482T2BW5M7I0WSO","linked_service_description":null,"linked_service_principal":null,"name":"cmcloudlab1834.info","name_servers":["ns-1502.awsdns-59.org","ns-905.awsdns-49.net","ns-56.awsdns-07.com","ns-1910.awsdns-46.co.uk"],"private_zone":false,"resource_record_set_count":2,"tags":{},"vpc_id":null,"zone_id":"Z03049482T2BW5M7I0WSO"}},{"address":"data.aws_ssm_parameter.linuxAmi-master","mode":"data","type":"aws_ssm_parameter","name":"linuxAmi-master","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ssm:us-east-1::parameter/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2","id":"/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2","name":"/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2","type":"String","value":"ami-0d5eff06f840b45e9","version":46,"with_decryption":true}},{"address":"data.aws_ssm_parameter.linuxAmi-worker","mode":"data","type":"aws_ssm_parameter","name":"linuxAmi-worker","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ssm:us-west-2::parameter/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2","id":"/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2","name":"/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2","type":"String","value":"ami-0cf6f5c8a62fa5da6","version":45,"with_decryption":true}}]}}},"configuration":{"provider_config":{"aws.region-master":{"name":"aws","alias":"region-master","expressions":{"profile":{"references":["var.profile"]},"region":{"references":["var.region-master"]}}},"aws.region-worker":{"name":"aws","alias":"region-worker","expressions":{"profile":{"references":["var.profile"]},"region":{"references":["var.region-worker"]}}}},"root_module":{"outputs":{"FrontEnd-LB-DNS-NAME":{"expression":{"references":["aws_alb.application-lb-master"]}},"FrontendBalancer-URL":{"expression":{"references":["aws_route53_record.frontend-lb"]}},"Jenkins-Master-Node-Public-IP":{"expression":{"references":["aws_instance.jenkins-master-instance"]}},"Jenkins-Worker-Node-Public-IP":{"expression":{"references":["aws_instance.jenkins-worker-instance"]}}},"resources":[{"address":"aws_acm_certificate.frontend-lb-https","mode":"managed","type":"aws_acm_certificate","name":"frontend-lb-https","provider_config_key":"aws.region-master","expressions":{"domain_name":{"references":["data.aws_route53_zone.dns"]},"tags":{"constant_value":{"Name":"FrontEnd-ACM"}},"validation_method":{"constant_value":"DNS"}},"schema_version":0},{"address":"aws_acm_certificate_validation.cert","mode":"managed","type":"aws_acm_certificate_validation","name":"cert","provider_config_key":"aws.region-master","expressions":{"certificate_arn":{"references":["aws_acm_certificate.frontend-lb-https"]},"validation_record_fqdns":{"references":["aws_route53_record.cert_validation","each.key"]}},"schema_version":0,"for_each_expression":{"references":["aws_route53_record.cert_validation"]}},{"address":"aws_alb.application-lb-master","mode":"managed","type":"aws_alb","name":"application-lb-master","provider_config_key":"aws.region-master","expressions":{"internal":{"constant_value":false},"load_balancer_type":{"constant_value":"application"},"name":{"constant_value":"front-lb"},"security_groups":{"references":["aws_security_group.alb-sg-master"]},"subnets":{"references":["aws_subnet.subnet-1-master","aws_subnet.subnet-2-master"]},"tags":{"constant_value":{"Name":"Front-End-LB"}}},"schema_version":0},{"address":"aws_alb_listener.front-lb-master443-listener","mode":"managed","type":"aws_alb_listener","name":"front-lb-master443-listener","provider_config_key":"aws.region-master","expressions":{"certificate_arn":{"references":["aws_acm_certificate.frontend-lb-https"]},"default_action":[{"target_group_arn":{"references":["aws_lb_target_group.front-lb-master-tg"]},"type":{"constant_value":"forward"}}],"load_balancer_arn":{"references":["aws_alb.application-lb-master"]},"port":{"constant_value":"443"},"protocol":{"constant_value":"HTTPS"},"ssl_policy":{"constant_value":"ELBSecurityPolicy-2016-08"}},"schema_version":0},{"address":"aws_alb_listener.front-lb-master80-listener","mode":"managed","type":"aws_alb_listener","name":"front-lb-master80-listener","provider_config_key":"aws.region-master","expressions":{"default_action":[{"redirect":[{"port":{"constant_value":"443"},"protocol":{"constant_value":"HTTPS"},"status_code":{"constant_value":"HTTP_301"}}],"type":{"constant_value":"redirect"}}],"load_balancer_arn":{"references":["aws_alb.application-lb-master"]},"port":{"constant_value":"80"},"protocol":{"constant_value":"HTTP"}},"schema_version":0},{"address":"aws_alb_target_group_attachment.frontend-master-attach","mode":"managed","type":"aws_alb_target_group_attachment","name":"frontend-master-attach","provider_config_key":"aws.region-master","expressions":{"port":{"references":["var.webserver-port"]},"target_group_arn":{"references":["aws_lb_target_group.front-lb-master-tg"]},"target_id":{"references":["aws_instance.jenkins-master-instance"]}},"schema_version":0},{"address":"aws_instance.jenkins-master-instance","mode":"managed","type":"aws_instance","name":"jenkins-master-instance","provider_config_key":"aws.region-master","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["var.profile","var.region-master","self","self"]}}}],"expressions":{"ami":{"references":["data.aws_ssm_parameter.linuxAmi-master"]},"associate_public_ip_address":{"constant_value":true},"instance_type":{"references":["var.instance-type"]},"key_name":{"references":["aws_key_pair.master-instance-key"]},"subnet_id":{"references":["aws_subnet.subnet-1-master"]},"tags":{"constant_value":{"Name":"jenkins_master_tf"}},"vpc_security_group_ids":{"references":["aws_security_group.instance-sg-master"]}},"schema_version":1,"depends_on":["aws_main_route_table_association.set-master-default-rt-assoc"]},{"address":"aws_instance.jenkins-worker-instance","mode":"managed","type":"aws_instance","name":"jenkins-worker-instance","provider_config_key":"aws.region-worker","provisioners":[{"type":"local-exec","expressions":{"command":{"references":["var.profile","var.region-worker","self","self","aws_instance.jenkins-master-instance"]}}}],"expressions":{"ami":{"references":["data.aws_ssm_parameter.linuxAmi-worker"]},"associate_public_ip_address":{"constant_value":true},"instance_type":{"references":["var.instance-type"]},"key_name":{"references":["aws_key_pair.worker-instance-key"]},"subnet_id":{"references":["aws_subnet.subnet-1-worker"]},"tags":{"references":["count.index"]},"vpc_security_group_ids":{"references":["aws_security_group.instance-sg-worker"]}},"schema_version":1,"count_expression":{"references":["var.workers-count"]},"depends_on":["aws_main_route_table_association.set-worker-default-rt-assoc","aws_instance.jenkins-master-instance"]},{"address":"aws_internet_gateway.igw_master_vpc","mode":"managed","type":"aws_internet_gateway","name":"igw_master_vpc","provider_config_key":"aws.region-master","expressions":{"vpc_id":{"references":["aws_vpc.vpc_master"]}},"schema_version":0},{"address":"aws_internet_gateway.igw_worker_vpc","mode":"managed","type":"aws_internet_gateway","name":"igw_worker_vpc","provider_config_key":"aws.region-worker","expressions":{"vpc_id":{"references":["aws_vpc.vpc_worker"]}},"schema_version":0},{"address":"aws_key_pair.master-instance-key","mode":"managed","type":"aws_key_pair","name":"master-instance-key","provider_config_key":"aws.region-master","expressions":{"key_name":{"constant_value":"cloud_key"},"public_key":{}},"schema_version":1},{"address":"aws_key_pair.worker-instance-key","mode":"managed","type":"aws_key_pair","name":"worker-instance-key","provider_config_key":"aws.region-worker","expressions":{"key_name":{"constant_value":"cloud_key"},"public_key":{}},"schema_version":1},{"address":"aws_lb_target_group.front-lb-master-tg","mode":"managed","type":"aws_lb_target_group","name":"front-lb-master-tg","provider_config_key":"aws.region-master","expressions":{"health_check":[{"enabled":{"constant_value":true},"interval":{"constant_value":10},"matcher":{"constant_value":"200-299"},"path":{"constant_value":"/"},"port":{"references":["var.webserver-port"]},"protocol":{"constant_value":"HTTP"}}],"name":{"constant_value":"front-lb-tg"},"port":{"references":["var.webserver-port"]},"protocol":{"constant_value":"HTTP"},"tags":{"constant_value":{"Name":"FrontEnd-Target-Group"}},"target_type":{"constant_value":"instance"},"vpc_id":{"references":["aws_vpc.vpc_master"]}},"schema_version":0},{"address":"aws_main_route_table_association.set-master-default-rt-assoc","mode":"managed","type":"aws_main_route_table_association","name":"set-master-default-rt-assoc","provider_config_key":"aws.region-master","expressions":{"route_table_id":{"references":["aws_route_table.internet_route_vpc-master"]},"vpc_id":{"references":["aws_vpc.vpc_master"]}},"schema_version":0},{"address":"aws_main_route_table_association.set-worker-default-rt-assoc","mode":"managed","type":"aws_main_route_table_association","name":"set-worker-default-rt-assoc","provider_config_key":"aws.region-worker","expressions":{"route_table_id":{"references":["aws_route_table.internet_route_vpc-worker"]},"vpc_id":{"references":["aws_vpc.vpc_worker"]}},"schema_version":0},{"address":"aws_route53_record.cert_validation","mode":"managed","type":"aws_route53_record","name":"cert_validation","provider_config_key":"aws.region-master","expressions":{"name":{"references":["each.value"]},"records":{"references":["each.value"]},"ttl":{"constant_value":60},"type":{"references":["each.value"]},"zone_id":{"references":["data.aws_route53_zone.dns"]}},"schema_version":2,"for_each_expression":{"references":["aws_acm_certificate.frontend-lb-https"]}},{"address":"aws_route53_record.frontend-lb","mode":"managed","type":"aws_route53_record","name":"frontend-lb","provider_config_key":"aws.region-master","expressions":{"alias":[{"evaluate_target_health":{"constant_value":true},"name":{"references":["aws_alb.application-lb-master"]},"zone_id":{"references":["aws_alb.application-lb-master"]}}],"name":{"references":["data.aws_route53_zone.dns"]},"type":{"constant_value":"A"},"zone_id":{"references":["data.aws_route53_zone.dns"]}},"schema_version":2},{"address":"aws_route_table.internet_route_vpc-master","mode":"managed","type":"aws_route_table","name":"internet_route_vpc-master","provider_config_key":"aws.region-master","expressions":{"tags":{"constant_value":{"Name":"Master-Region-RT"}},"vpc_id":{"references":["aws_vpc.vpc_master"]}},"schema_version":0},{"address":"aws_route_table.internet_route_vpc-worker","mode":"managed","type":"aws_route_table","name":"internet_route_vpc-worker","provider_config_key":"aws.region-worker","expressions":{"tags":{"constant_value":{"Name":"Worker-Region-RT"}},"vpc_id":{"references":["aws_vpc.vpc_worker"]}},"schema_version":0},{"address":"aws_security_group.alb-sg-master","mode":"managed","type":"aws_security_group","name":"alb-sg-master","provider_config_key":"aws.region-master","expressions":{"description":{"constant_value":"Allow TCP/443 and TCP/80 traffic"},"name":{"constant_value":"alb-master-sg"},"tags":{"constant_value":{"Name":"alb-master"}},"vpc_id":{"references":["aws_vpc.vpc_master"]}},"schema_version":1},{"address":"aws_security_group.instance-sg-master","mode":"managed","type":"aws_security_group","name":"instance-sg-master","provider_config_key":"aws.region-master","expressions":{"description":{"constant_value":"Allow TCP/8080 and TCP/22"},"name":{"constant_value":"instance-master-sg"},"tags":{"constant_value":{"Name":"instance-master-securitygroup"}},"vpc_id":{"references":["aws_vpc.vpc_master"]}},"schema_version":1},{"address":"aws_security_group.instance-sg-worker","mode":"managed","type":"aws_security_group","name":"instance-sg-worker","provider_config_key":"aws.region-worker","expressions":{"description":{"constant_value":"Allow TCP/8080 and TCP/22"},"name":{"constant_value":"instance-worker-sg"},"tags":{"constant_value":{"Name":"instance-worker-securitygroup"}},"vpc_id":{"references":["aws_vpc.vpc_worker"]}},"schema_version":1},{"address":"aws_subnet.subnet-1-master","mode":"managed","type":"aws_subnet","name":"subnet-1-master","provider_config_key":"aws.region-master","expressions":{"availability_zone":{"references":["data.aws_availability_zones.azs_master"]},"cidr_block":{"constant_value":"10.0.1.0/24"},"tags":{"constant_value":{"Name":"Master-Subnet-1"}},"vpc_id":{"references":["aws_vpc.vpc_master"]}},"schema_version":1},{"address":"aws_subnet.subnet-1-worker","mode":"managed","type":"aws_subnet","name":"subnet-1-worker","provider_config_key":"aws.region-worker","expressions":{"availability_zone":{"references":["data.aws_availability_zones.azs_worker"]},"cidr_block":{"constant_value":"192.168.1.0/24"},"tags":{"constant_value":{"Name":"Worker-Subnet-1"}},"vpc_id":{"references":["aws_vpc.vpc_worker"]}},"schema_version":1},{"address":"aws_subnet.subnet-2-master","mode":"managed","type":"aws_subnet","name":"subnet-2-master","provider_config_key":"aws.region-master","expressions":{"availability_zone":{"references":["data.aws_availability_zones.azs_master"]},"cidr_block":{"constant_value":"10.0.2.0/24"},"tags":{"constant_value":{"Name":"Master-Subnet-2"}},"vpc_id":{"references":["aws_vpc.vpc_master"]}},"schema_version":1},{"address":"aws_vpc.vpc_master","mode":"managed","type":"aws_vpc","name":"vpc_master","provider_config_key":"aws.region-master","expressions":{"cidr_block":{"constant_value":"10.0.0.0/16"},"enable_dns_hostnames":{"constant_value":true},"enable_dns_support":{"constant_value":true},"tags":{"constant_value":{"Name":"master-vpc-jenkins"}}},"schema_version":1},{"address":"aws_vpc.vpc_worker","mode":"managed","type":"aws_vpc","name":"vpc_worker","provider_config_key":"aws.region-worker","expressions":{"cidr_block":{"constant_value":"192.168.0.0/16"},"enable_dns_hostnames":{"constant_value":true},"enable_dns_support":{"constant_value":true},"tags":{"constant_value":{"Name":"worker-vpc-jenkins"}}},"schema_version":1},{"address":"aws_vpc_peering_connection.useast1-uswest2","mode":"managed","type":"aws_vpc_peering_connection","name":"useast1-uswest2","provider_config_key":"aws.region-master","expressions":{"peer_region":{"references":["var.region-worker"]},"peer_vpc_id":{"references":["aws_vpc.vpc_worker"]},"vpc_id":{"references":["aws_vpc.vpc_master"]}},"schema_version":0},{"address":"aws_vpc_peering_connection_accepter.accept-peering-vpc_master","mode":"managed","type":"aws_vpc_peering_connection_accepter","name":"accept-peering-vpc_master","provider_config_key":"aws.region-worker","expressions":{"auto_accept":{"constant_value":true},"vpc_peering_connection_id":{"references":["aws_vpc_peering_connection.useast1-uswest2"]}},"schema_version":0},{"address":"data.aws_availability_zones.azs_master","mode":"data","type":"aws_availability_zones","name":"azs_master","provider_config_key":"aws.region-master","expressions":{"state":{"constant_value":"available"}},"schema_version":0},{"address":"data.aws_availability_zones.azs_worker","mode":"data","type":"aws_availability_zones","name":"azs_worker","provider_config_key":"aws.region-worker","expressions":{"state":{"constant_value":"available"}},"schema_version":0},{"address":"data.aws_route53_zone.dns","mode":"data","type":"aws_route53_zone","name":"dns","provider_config_key":"aws.region-master","expressions":{"name":{"references":["var.dns-name"]}},"schema_version":0},{"address":"data.aws_ssm_parameter.linuxAmi-master","mode":"data","type":"aws_ssm_parameter","name":"linuxAmi-master","provider_config_key":"aws.region-master","expressions":{"name":{"constant_value":"/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2"}},"schema_version":0},{"address":"data.aws_ssm_parameter.linuxAmi-worker","mode":"data","type":"aws_ssm_parameter","name":"linuxAmi-worker","provider_config_key":"aws.region-worker","expressions":{"name":{"constant_value":"/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2"}},"schema_version":0}],"variables":{"dns-name":{"default":"cmcloudlab1834.info."},"external_ip":{"default":"35.177.170.10/32"},"instance-type":{"default":"t3.micro"},"masters-count":{"default":1},"profile":{"default":"default"},"region-master":{"default":"us-east-1"},"region-worker":{"default":"us-west-2"},"webserver-port":{"default":8080},"workers-count":{"default":3}}}}}
